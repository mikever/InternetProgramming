<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Greg's Gambits</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="gregnew.css" rel="stylesheet" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<script type="text/javascript">
			var playerTotal = 0;
			var dealerTotal = 0;
			var playerCard = 0;
			var dealerCard1 = 0;
			var dealerCard2 = 0;

			function dealMe()
			{
				dealerCard1 = Math.floor(Math.random() * (11-2+1) + 2);
				dealerCard2 = Math.floor(Math.random() * (11-2+1) + 2);
				playerCard = Math.floor(Math.random() * (11-2+1) + 2);

				playerTotal += playerCard;
				dealerTotal = dealerCard1 + dealerCard2;

				while (dealerTotal < 15)
				{
					dealerTotal = dealerTotal + Math.floor(Math.random() * (11-2+1) + 2);
				}

				document.getElementById("playerCard").innerHTML = ("Current card: " + playerCard);
				document.getElementById("playerScore").innerHTML = ("<span class='style3'>" + playerTotal + "</span>");
			}

			function stayHand()
			{
				document.getElementById("dealerScore").innerHTML = ("<span class='style3'>" + dealerTotal + "</span>");

				if (playerTotal > 21)
				{
					document.getElementById("result").innerHTML = ("You went over 21 and busted. Try again.");
				}
				else if (dealerTotal > 21)
				{
					document.getElementById("result").innerHTML = ("The dealer busted! You win!");
				}
				else if (playerTotal > dealerTotal)
				{
					document.getElementById("result").innerHTML = ("You beat the dealer's score. You win!");
				}
				else if (playerTotal < dealerTotal)
				{
					document.getElementById("result").innerHTML = ("The dealer beat your score. You lose. Try again.");
				}
				else
					document.getElementById("result").innerHTML = ("It's a draw! Try again.");
			}
	</script>
</head>
<body>
	<header>
		<a href="index.html" id="logo" class="grow"></a>
		<nav>
			<ul>
				<li><a href="index.html" class="current">Home</a></li>
				<li><a href="greg.html">About this Site</a></li>
				<li><a href="playagame.html">Play a Game</a></li>
				<li><a href="aboutyou.html">Contact Us</a></li>
			</ul>
		</nav>
	</header>
	<div class="spacer">&nbsp;</div>
	<main>
		<h1>A Game of 21</h1>
		<h2 class="centeredh2">Try to beat the dealer</h2>
		<div class="container">
			<div id="content">
				<table width="85%" cellspacing="0" cellpadding="5" border="0" id="battleTable">
					<tr>
						<td colspan="4"><span class="style1">In this game you and the dealer will both get dealt cards with a value from 2 to 11. The goal is to get your total score as close to 21 without going over. The computer will generate random numbers between 2 and 11 for the player and the dealer. The player will be asked whether they want to hit (get another card) or stand (stay with the score they have and compare total scores). The dealer will be dealt two cards initially, and then the dealer may get another card if the total is low. The dealer's score will be hidden until the reveal at the end. Good luck!</span></td>
					</tr>
					<tr>
						<td colspan="2" width="40%"><p><span class="style2">Player Score</span></p></td>
						<td colspan="2" width="40%"><p><span class="style2">Dealer Score</span></p></td>
					</tr>
					<tr>
						<td colspan="2" width="40%" id="playerScore"><p><span class="style3">0</span></p></td>
						<td colspan="2" width="40%" id="dealerScore"><p><span class="style3">???</span></p></td>
					</tr>
					<tr>
						<td width="40%" id="playerCard"><p><span class="style1">&nbsp;</span></p></td>
						<td width="40%" id="dealerCard"><p><span class="style1">&nbsp;</span></p></td>
					</tr>
					<tr>
						<td colspan="4"><span class="style1" id="result">&nbsp;</span></td>
					</tr>
					<tr>
						<td colspan="2"><span class="style1">&nbsp;</span></td>
						<td colspan="2"><span class="style1">&nbsp;</span></td>
					</tr>
					<tr><td><input type="button" class="buttons" id="startGame" value="Deal a Card" onclick="dealMe()";>&nbsp;</td></tr>
					<tr><td><input type="button" class="buttons" id="stayHand" value="Stand (end and compare scores)" onclick="stayHand()";>&nbsp;</td></tr>
					<tr><td><input type="button" class="buttons" id="reloadPage" value="Restart the Game" onclick="location.href='game21.html'";>&nbsp;</td></tr>
				</table>
    </div>
	</div>
		<br>
	<footer>
		<p>Copyright &copy; 2016 Greg's Gambits | <a href="mailto:mike@ggambits.com">mike@ggambits.com</a></p>
		<br>
		<br>
	</footer>
</body>
</html>
